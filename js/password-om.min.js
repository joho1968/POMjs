var POM_cfgLanguage="noLang?";var POM_cfgTitle="noTitle?";var POM_cfgSlogan="noSlogan?";var POM_cfgGenPasswordHint="noHint?";const POM_strUppercase=POM_genAlphabet(true);const POM_strLowercase=POM_genAlphabet(false);const POM_strDigits=POM_genDigits();const POM_strSpecialOne="-._#$@%!";const POM_strSpecialTwo='"+(){}[]?&,*<>|:;^';const POM_strUppercase_Default=true;const POM_strLowercase_Default=true;const POM_strDigits_Default=true;const POM_strSpecialOne_Default=true;const POM_strSpecialTwo_Default=false;const POM_mkPasswordOnLoad=true;const POM_changeIsClick=true;const POM_minLength=16;const POM_maxLength=256;const POM_sliderStep=8;const POM_debug=false;function POM_genAlphabet(isUpper=false){return[...Array(26)].map((_,i)=>String.fromCharCode(i+(isUpper?65:97))).join("")}function POM_genDigits(){return[...Array(10)].map((_,i)=>String.fromCharCode(i+48)).join("")}function POM_distillString(s){s=s.split("");s=new Set(s);s=[...s].join("+");return s}function POM_escapeRegExp(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function POM_validateNumInput(){let mkLengthSlider=document.getElementById("mk-password-len-slider");if(mkLengthSlider){if(this.value===""){this.value=POM_minLength}mkLengthSlider.value=this.value;if(mkLengthSlider.value<POM_minLength){mkLengthSlider.value=POM_minLength}else if(mkLengthSlider.value>POM_maxLength){mkLengthSlider.value=POM_maxLength}this.value=mkLengthSlider.value}if(POM_changeIsClick){document.getElementById("mk-password-btn").click()}}function POM_generatePassword(){let strengthP=document.getElementById("mk-password-strength");strengthP.style.background="inherit";strengthP.style.width="0";strengthP.style.transition="none";let passwordField=document.getElementById("mk-password-field");passwordField.value="";passwordField.classList.remove("mk-password-field-focus");let mkLengthField=document.getElementById("mk-length-field");if(POM_debug){console.clear()}if(mkLengthField){if(mkLengthField.value>=POM_minLength&&mkLengthField.value<=POM_maxLength){let passwordSource="";if(document.getElementById("mk-uppercase-select").checked){passwordSource+=POM_strUppercase}if(document.getElementById("mk-special-one-select").checked){passwordSource+=POM_strSpecialOne+POM_strSpecialOne}if(document.getElementById("mk-digits-select").checked){passwordSource+=POM_strDigits}if(document.getElementById("mk-lowercase-select").checked){passwordSource+=POM_strLowercase}if(document.getElementById("mk-digits-select").checked){passwordSource+=POM_strDigits}if(document.getElementById("mk-special-two-select").checked){passwordSource+=POM_strSpecialTwo+POM_strSpecialTwo}if(passwordSource.length>0){let passwordGen="";let theChar="";for(let i=0;i<mkLengthField.value;i++){const charPos=Math.floor(Math.random()*passwordSource.length);theChar=passwordSource[charPos];passwordGen+=theChar}passwordField.value=passwordGen;let scoreP=0;let searchStr;let re;searchStr="["+POM_escapeRegExp(POM_strUppercase)+"]";if(POM_debug){console.log("Using "+searchStr+" to scan password")}re=new RegExp(searchStr);if(re.test(passwordGen)){scoreP++;if(POM_debug){console.log("Password contains UPPERCASE")}}else{if(POM_debug){console.log("Password does NOT contain UPPERCASE")}}searchStr="["+POM_escapeRegExp(POM_strLowercase)+"]";if(POM_debug){console.log("Using "+searchStr+" to scan password")}re=new RegExp(searchStr);if(re.test(passwordGen)){scoreP++;if(POM_debug){console.log("Password contains lowercase")}}else{if(POM_debug){console.log("Password does NOT contain lowercase")}}searchStr="["+POM_escapeRegExp(POM_strDigits)+"]";if(POM_debug){console.log("Using "+searchStr+" to scan password")}re=new RegExp(searchStr);if(re.test(passwordGen)){scoreP++;if(POM_debug){console.log("Password contains digits")}}else{if(POM_debug){console.log("Password does NOT contain digits")}}searchStr="["+POM_escapeRegExp(POM_strSpecialOne)+"]";if(POM_debug){console.log("Using "+searchStr+" to scan password")}re=new RegExp(searchStr);if(re.test(passwordGen)){scoreP++;if(POM_debug){console.log("Password contains specialOne")}}else{if(POM_debug){console.log("Password does NOT contain specialOne")}}searchStr="["+POM_escapeRegExp(POM_strSpecialTwo)+"]";if(POM_debug){console.log("Using "+searchStr+" to scan password")}re=new RegExp(searchStr);if(re.test(passwordGen)){scoreP++;if(POM_debug){console.log("Password contains specialTwo")}}else{if(POM_debug){console.log("Password does NOT contain specialTwo")}}if(passwordGen.length>7){scoreP++;if(POM_debug){console.log("Password >7 characters, buping score")}}if(passwordGen.length>15){scoreP++;if(POM_debug){console.log("Password >15 characters, buping score")}}if(passwordGen.length>31){scoreP+=2;if(POM_debug){console.log("Password >31 characters, buping score")}}if(passwordGen.length>63){scoreP+=4;if(POM_debug){console.log("Password >63 characters, buping score")}}if(scoreP>8){scoreP=8}if(scoreP>6){strengthP.style.background="#27ce60"}else if(scoreP>5){strengthP.style.background="#27ae60"}else if(scoreP>3){strengthP.style.background="#FFC300"}else{strengthP.style.background="#C0392B"}strengthP.style.width=scoreP*12.5+"%";strengthP.style.transition="width 0.3s ease-in"}}}}function POM_copyPassword(){let passwordField=document.getElementById("mk-password-field");if(passwordField&&passwordField.value.length>0){if(navigator&&navigator.clipboard&&navigator.clipboard.writeText){navigator.clipboard.writeText(passwordField.value).then(function(){passwordField.classList.add("mk-password-field-focus")},function(e){alert("Could not copy text: "+e)})}else{var theText=document.createElement("textarea");theText.value=passwordField.value;theText.setAttribute("readonly","");theText.style.position="absolute";theText.style.top="-6969px";theText.style.left="-6969px";document.body.appendChild(theText);theText.focus();theText.select();try{var goodCopy=document.execCommand("copy");if(goodCopy){passwordField.classList.add("mk-password-field-focus")}else{alert("That did not work")}}catch(e){alert("Could not copy text: "+e.message)}document.body.removeChild(theText)}}}function POM_initialSetup(){if(navigator.language){POM_cfgLanguage=navigator.language;if(POM_debug){console.log("Language: "+POM_cfgLanguage)}let dashPos=POM_cfgLanguage.indexOf("-");if(dashPos&&dashPos>0){POM_cfgLanguage=POM_cfgLanguage.substring(0,dashPos)}POM_cfgLanguage=POM_cfgLanguage.toLowerCase()}else{POM_cfgLanguage="???"}switch(POM_cfgLanguage){case"sv":case"se":POM_cfgTitle="Slumpmässigt Lösenord";POM_cfgSlogan='Inga kakor, <span tyle="display:inline-block">ingen spårning.</span><br/>Bara lösenord.';POM_cfgGenPasswordHint="Generera lösenord";break;case"de":POM_cfgTitle="Zufallsgenerator für Passwörter";POM_cfgSlogan='Keine Cookies, <span style="display:inline-block">keine Tracker.</span><br/>Nur Passwörter.';POM_cfgGenPasswordHint="Passwort generieren";break;case"hu":POM_cfgTitle="Véletlenszerű jelszógenerátor";POM_cfgSlogan='Cookie-k nélkül, <span style="display:inline-block">nyomkövetők nélkül.</span><br/>Csak jelszavak.';POM_cfgGenPasswordHint="Jelszó generálása";break;case"nl":POM_cfgTitle="Willekeurig Wachtwoord Generator";POM_cfgSlogan='Geen cookies, <span style="display:inline-block">geen trackers.</span><br/>Uitsluitend wachtwoorden.';POM_cfgGenPasswordHint="Genereer wachtwoord";break;case"lb":POM_cfgTitle="Zoufallspasswuertgenerator";POM_cfgSlogan='Keng Cookien, <span style="display:inline-block">keng Trackeren.</span><br/>Nemme Passwierder.';POM_cfgGenPasswordHint="Passwuert genereieren";break;case"fr":POM_cfgTitle="Générateur de mot de passe au hazard";POM_cfgSlogan='Pas de cookies, <span style="display:inline-block">pas de traceurs.</span><br/>Juste des mots de passe.';POM_cfgGenPasswordHint="Générer mot de passe";break;case"fi":POM_cfgTitle="Salasanageneraattori";POM_cfgSlogan='Ei evästeitä, <span style="display:inline-block">ei seurantaa.</span><br/>Vain salasanoja.';POM_cfgGenPasswordHint="Generoi salasana";break;case"sl":POM_cfgTitle="Generator Naključnih Gesel";POM_cfgSlogan='Brez piškotkov, <span style="display:inline-block">nič sledilnikov.</span><br/>Samo geslo.';POM_cfgGenPasswordHint="Generiraj geslo";break;case"zh":POM_cfgTitle="随机密码生成器";POM_cfgSlogan='No cookies, <span style="display:inline-block">no trackers.</span><br/>Just passwords.';POM_cfgGenPasswordHint="生成密码";break;default:POM_cfgTitle="Random Password Generator";POM_cfgSlogan='No cookies, <span style="display:inline-block">no trackers.</span><br/>Just passwords.';POM_cfgGenPasswordHint="Generate password";break}document.getElementById("cfg-page-title").innerHTML=POM_cfgTitle;document.getElementById("cfg-page-slogan").innerHTML=POM_cfgSlogan;document.getElementById("cfg-page-lang").innerHTML="["+POM_cfgLanguage+"]";document.getElementById("mk-password-btn").title=POM_cfgGenPasswordHint;document.getElementById("mk-uppercase-select").checked=POM_strUppercase_Default;document.getElementById("mk-lowercase-select").checked=POM_strLowercase_Default;document.getElementById("mk-digits-select").checked=POM_strDigits_Default;document.getElementById("mk-special-one-select").checked=POM_strSpecialOne_Default;document.getElementById("mk-special-two-select").checked=POM_strSpecialTwo_Default;document.getElementById("mk-password-field").value="";let mkPasswordSlider=document.getElementById("mk-password-len-slider");if(mkPasswordSlider){mkPasswordSlider.value=POM_minLength;mkPasswordSlider.setAttribute("min",POM_minLength);mkPasswordSlider.setAttribute("max",POM_maxLength);mkPasswordSlider.step=POM_sliderStep}document.getElementById("mk-length-field").value=POM_minLength;document.getElementById("gen-uppercase").innerText=POM_strUppercase;document.getElementById("gen-lowercase").innerText=POM_strLowercase;document.getElementById("gen-digits").innerText=POM_strDigits;document.getElementById("gen-special-one").innerText=POM_strSpecialOne;document.getElementById("gen-special-two").innerText=POM_strSpecialTwo;document.getElementById("gen-timestamp").innerText=Date.now();document.getElementById("mk-password-len-slider").addEventListener("input",function(){let mkLengthField=document.getElementById("mk-length-field");if(mkLengthField){mkLengthField.value=this.value;if(mkLengthField.value<POM_minLength){mkLengthField.value=POM_minLength}else if(mkLengthField.value>POM_maxLength){mkLengthField.value=POM_maxLength}this.value=mkLengthField.value}});document.getElementById("mk-length-field").addEventListener("click",function(){this.select()});document.getElementById("mk-length-field").addEventListener("blur",POM_validateNumInput);document.getElementById("mk-length-field").addEventListener("change",POM_validateNumInput);document.getElementById("mk-password-btn").addEventListener("click",POM_generatePassword);document.getElementById("mk-password-field").addEventListener("click",POM_copyPassword);if(POM_mkPasswordOnLoad){document.getElementById("mk-password-btn").click()}if(POM_changeIsClick){document.getElementById("mk-uppercase-select").addEventListener("click",POM_generatePassword);document.getElementById("mk-special-one-select").addEventListener("click",POM_generatePassword);document.getElementById("mk-digits-select").addEventListener("click",POM_generatePassword);document.getElementById("mk-lowercase-select").addEventListener("click",POM_generatePassword);document.getElementById("mk-digits-select").addEventListener("click",POM_generatePassword);document.getElementById("mk-special-two-select").addEventListener("click",POM_generatePassword);document.getElementById("mk-password-len-slider").addEventListener("change",POM_generatePassword)}}if(document.readyState==="complete"||document.readyState!=="loading"&&!document.documentElement.doScroll){POM_initialSetup()}else{document.addEventListener("DOMContentLoaded",POM_initialSetup)}